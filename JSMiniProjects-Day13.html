<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript MiniProjects-Day 13</title>
    	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap">
    <style>
        

header {
    background: #333;
    color: white;
    padding: 1rem;
    text-align: center;
}
.header1{
    background-color:white;
}

main {
    display: flex;
    padding: 1rem;
}

.sidebar {
    width: 200px;
    padding: 1rem;
    background: white;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    height: fit-content;
}

.filter-group {
    margin-bottom: 1rem;
}

.filter-group input, .filter-group select, .filter-group button {
    width: 100%;
    padding: 0.5rem;
    margin-top: 0.5rem;
    box-sizing: border-box;
}

.product-list {
    flex-grow: 1;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1rem;
    margin-left: 1rem;
}

.product-card {
    background: white;
    padding: 1rem;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    cursor: pointer;
    transition: transform 0.2s;
}

.product-card:hover {
    transform: translateY(-5px);
}

.product-card h3 {
    margin: 0 0 0.5rem;
}

.product-card p {
    margin: 0;
}

.product-price {
    font-weight: bold;
    color: #007BFF;
}

/* Modal styles */
.modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.4);
}

.modal-content {
    background-color: #fefefe;
    margin: 15% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 50%;
    border-radius: 5px;
    position: relative;
}

.close-btn {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
}


.container {
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    text-align: center;
    width: 90%;
    max-width: 500px;
}

h1 {
    color: #333;
}

.search-container {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: 20px;
}

#movie-title {
    padding: 10px;
    width: 70%;
    border: 1px solid #ccc;
    border-radius: 4px;
}

#search-button {
    padding: 10px 20px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

#search-button:hover {
    background-color: #0056b3;
}

#results {
    margin-top: 20px;
    text-align: left;
}

.movie-card {
    display: flex;
    border-bottom: 1px solid #ccc;
    padding: 15px 0;
}

.movie-poster {
    margin-right: 15px;
}

.movie-poster img {
    width: 100px;
    height: auto;
}

.movie-info h2 {
    margin: 0 0 5px;
    color: #333;
}

.movie-info p {
    margin: 0 0 5px;
    color: #666;
}
* {
    margin: 0;
    padding: 0;
    font-family: 'Poppins', sans-serif;
    box-sizing: border-box;
}



.card {
    width: 90%;
    max-width: 470px;
    background: linear-gradient(135deg, #00feba, #5b548a);
    color: #fff;
    margin: 100px auto 0;
    border-radius: 20px;
    padding: 40px 35px;
    text-align: center;
}

.search {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.search input {
    border: 0;
    outline: 0;
    background: #ebfffc;
    color: #555;
    padding: 10px 25px;
    height: 60px;
    border-radius: 30px;
    flex: 1;
    margin-right: 16px;
    font-size: 18px;
}

.search button {
    border: 0;
    outline: 0;
    background: #ebfffc;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    cursor: pointer;
}

.search button img {
    width: 16px;
}



.container {
    text-align: center;
}

.weather-card {
    background-color: rgba(255, 255, 255, 0.95);
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease-in-out;
    width: 450px;
}

.weather-card:hover {
    transform: scale(1.05);
}

#city-input {
    padding: 15px;
    margin: 10px 0;
    width: 70%;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 16px;
}

#city-input:focus {
    outline: none;
    border-color: #2196F3;
}

#city-input::placeholder {
    color: #aaa;
}

#city-input-btn {
    padding: 10px;
    background-color: #2196F3;
    color: #fff;
    border: none;
    border-radius: 5px;
    font-size: 16px;
    cursor: pointer;
}

#city-input-btn:hover {
    background-color: #1565C0;
}

#weather-info {
    display: none;
}

#weather-icon {
    width: 100px;
    height: 100px;
}

#temperature {
    font-size: 24px;
    font-weight: bold;
    margin: 8px 0;
}

#description {
    font-size: 18px;
    margin-bottom: 10px;
}

#wind-speed {
    font-size: 16px;
    color: rgb(255, 0, 0);
}

#date {
    font-size: 14px;
    color: rgb(255, 0, 0);
}
 .container { max-width: 600px; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .employee-item { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #ddd; }
        form { margin-bottom: 20px; display: flex; gap: 10px; }
        button { cursor: pointer; background: #ff4d4d; color: white; border: none; padding: 5px 10px; border-radius: 4px; }
        .add-btn { background: #28a745; }
        crypto-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
}

.card {
    background-color: #fff;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: transform 0.2s;
}

.card:hover {
    transform: translateY(-5px);
}

.card h2 {
    margin: 0 0 10px;
    font-size: 1.2rem;
}

.card p {
    margin: 5px 0;
}

.price {
    font-size: 1.1rem;
    font-weight: bold;
}

.change {
    font-size: 0.9rem;
    padding: 3px 6px;
    border-radius: 4px;
    display: inline-block;
}

/* Green for positive change, Red for negative change */
.positive {
    color: #008000;
    background-color: #e0ffe0;
}

.negative {
    color: #ff0000;
    background-color: #ffe0e0;
}
     


.search-box {
    margin-bottom: 20px;
}

input, select {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    border: 1px solid #ddd;
    border-radius: 6px;
}

.details-card {
    border-top: 2px solid #eee;
    margin-top: 20px;
    padding-top: 20px;
}

.details-card img {
    width: 100%;
    max-width: 200px;
    border-radius: 4px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.hidden { display: none; }


.container1 {
    background: white;
    padding: 2rem;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    width: 100%;
    max-width: 500px;
    text-align: center;
}

.controls {
    margin-bottom: 20px;
}

input, select {
    width: 100%;
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ddd;
    border-radius: 6px;
    font-size: 16px;
}

.info-card {
    border-top: 2px solid #eee;
    padding-top: 20px;
    margin-top: 20px;
}


#flag {
    width: 100%;
    max-height: 200px;
    object-fit: contain;
    border: 1px solid #eee;
    border-radius: 4px;
    margin-bottom: 15px;
}

.grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px; }

.card {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    transition: transform 0.2s;
}

.card:hover { transform: translateY(-5px); }
.symbol { text-transform: uppercase; color: #777; font-size: 0.9em; }
.price { font-size: 1.5em; font-weight: bold; margin: 10px 0; }

/* Status Colors */
.up { color: #2ecc71; font-weight: bold; }
.down { color: #e74c3c; font-weight: bold; }

 
    </style>
</head>
<body>
Mini Project 1 :  E-Commerce Product Catalog  
<header>
        <h1>Our Products</h1>
    </header>

    <main>
        <aside class="sidebar">
            <h2>Filters & Sort</h2>
            <div class="filter-group">
                <label for="priceFilter">Max Price: $</label>
                <input type="number" id="priceFilter" placeholder="e.g., 500">
                <button onclick="applyFilters()">Apply</button>
            </div>
            <div class="filter-group">
                <label for="sortOrder">Sort by Price:</label>
                <select id="sortOrder" onchange="applyFilters()">
                    <option value="none">None</option>
                    <option value="lowToHigh">Low to High</option>
                    <option value="highToLow">High to Low</option>
                </select>
            </div>
        </aside>

        <section class="product-list" id="productList">
            <!-- Product cards will be injected here by JavaScript -->
        </section>
    </main>

    <!-- Modal for product details -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h2 id="modalName"></h2>
            <p id="modalCategory"></p>
            <p id="modalPrice"></p>
        </div>
    </div>

    <script>
        let allProducts = [];
const productListElement = document.getElementById('productList');
const modal = document.getElementById('productModal');
const modalName = document.getElementById('modalName');
const modalCategory = document.getElementById('modalCategory');
const modalPrice = document.getElementById('modalPrice');

// 1. Fetch and display product data
async function fetchProducts() {
    try {
        const response = await fetch('products.json');
        allProducts = await response.json();
        renderProducts(allProducts);
    } catch (error) {
        console.error('Error fetching products:', error);
    }
}

function renderProducts(products) {
    productListElement.innerHTML = '';
    products.forEach(product => {
        const productCard = document.createElement('div');
        productCard.classList.add('product-card');
        productCard.innerHTML = `
            <h3>${product.name}</h3>
            <p>Category: ${product.category}</p>
            <p class="product-price">$${product.price.toFixed(2)}</p>
        `;
        // 4. Display details on click
        productCard.onclick = () => showProductDetails(product);
        productListElement.appendChild(productCard);
    });
}

// 2 & 3. Implement price filtering and sorting
function applyFilters() {
    let filteredProducts = [...allProducts];
    const maxPrice = document.getElementById('priceFilter').value;
    const sortOrder = document.getElementById('sortOrder').value;

    // Filter by price
    if (maxPrice) {
        filteredProducts = filteredProducts.filter(product => product.price <= parseFloat(maxPrice));
    }

    // Sort by price
    if (sortOrder === 'lowToHigh') {
        filteredProducts.sort((a, b) => a.price - b.price);
    } else if (sortOrder === 'highToLow') {
        filteredProducts.sort((a, b) => b.price - a.price);
    }

    renderProducts(filteredProducts);
}

// 4. Show product details modal
function showProductDetails(product) {
    modalName.textContent = product.name;
    modalCategory.textContent = `Category: ${product.category}`;
    modalPrice.textContent = `Price: $${product.price.toFixed(2)}`;
    modal.style.display = 'block';
}

function closeModal() {
    modal.style.display = 'none';
}

// Close the modal if the user clicks outside of it
window.onclick = function(event) {
    if (event.target == modal) {
        closeModal();
    }
}

// Initial fetch
fetchProducts();

    </script>
    <h1>Mini Project : 2 Movie Search App (Fetch API + Async/Await) </h1>
    <header class="header1">
        <h1>Movie Search</h1>
        <div class="search-container">
            <input type="text" id="movie-title-input" placeholder="Enter movie title">
            <button id="search-button">Search</button>
        </div>
    </header>
    <main id="movie-results-container">
        <!-- Movie results will be dynamically added here -->
    </main>
    <script>
        const searchButton = document.getElementById('search-button');
const movieTitleInput = document.getElementById('movie-title-input');
const resultsContainer = document.getElementById('movie-results-container');

searchButton.addEventListener('click', () => {
    const movieTitle = movieTitleInput.value.trim();
    if (movieTitle) {
        fetchMovieDetails(movieTitle);
    } else {
        resultsContainer.innerHTML = '<p>Please enter a movie name.</p>';
    }
});

const API_KEY = 'YOUR_API_KEY'; // Replace with your actual API key

async function fetchMovieDetails(title) {
    const url = `https://www.omdbapi.com/?apikey=${API_KEY}&s=${encodeURIComponent(title)}`;
    

    try {
        const response = await fetch(url);
        const data = await response.json();

        if (data.Response === "True") {
            displayMovies(data.Search);
        } else {
            resultsContainer.innerHTML = `<p>Movie not found: ${data.Error}</p>`;
        }
    } catch (error) {
        console.error('Error fetching movies:', error);
        resultsContainer.innerHTML = '<p>An error occurred while fetching data.</p>';
    }
}
function displayMovies(movies) {
    resultsContainer.innerHTML = ''; // Clear previous results
    movies.forEach(movie => {
        const movieCard = document.createElement('div');
        movieCard.classList.add('movie-card');
        // Use a placeholder image if the poster is "N/A"
        const posterUrl = movie.Poster !== 'N/A' ? movie.Poster : 'via.placeholder.com';

        movieCard.innerHTML = `
            <img src="${posterUrl}" alt="${movie.Title} poster">
            <div class="movie-info">
                <h3>${movie.Title}</h3>
                <p>${movie.Year}</p>
            </div>
        `;
        resultsContainer.appendChild(movieCard);
    });
}

    </script>
    <h1>Mini project 3 weather app</h1>
    <div class="container">
		<div class="weather-card">
            			<h1 style="color: green;">
				Weather App
			</h1>
			<input type="text" id="city-input" placeholder="Enter city name">
			<button id="city-input-btn">Get Weather</button>
			<div id="weather-info" class="animate__animated animate__fadeIn">
				<h3 id="city-name"></h3>
				<p id="date"></p>
				<img id="weather-icon" src="" alt="Weather Icon">
				<p id="temperature"></p>
				<p id="description"></p>
				<p id="wind-speed"></p>
			</div>
		</div>
	</div>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://momentjs.com/downloads/moment.min.js"></script>
	<script>
    const url =
	'https://api.openweathermap.org/data/2.5/weather';
const apiKey =
	'f00c38e0279b7bc85480c3fe775d518c';

$(document).ready(function () {
	weatherFn('Pune');
});

async function weatherFn(cName) {
	const temp =
		`${url}?q=${cName}&appid=${apiKey}&units=metric`;
	try {
		const res = await fetch(temp);
		const data = await res.json();
		if (res.ok) {
			weatherShowFn(data);
		} else {
			alert('City not found. Please try again.');
		}
	} catch (error) {
		console.error('Error fetching weather data:', error);
	}
}

function weatherShowFn(data) {
	$('#city-name').text(data.name);
	$('#date').text(moment().
		format('MMMM Do YYYY, h:mm:ss a'));
	$('#temperature').
		html(`${data.main.temp}°C`);
	$('#description').
		text(data.weather[0].description);
	$('#wind-speed').
		html(`Wind Speed: ${data.wind.speed} m/s`);
	$('#weather-icon').
		attr('src',
			`...`);
	$('#weather-info').fadeIn();
}
    </script>
	<script>
		// Move your JavaScript logic here
		$('#city-input-btn').on('click', function() {
			let cityName = $('#city-input').val();
			weatherFn(cityName);
		});
	</script>
    <h1>Mini project 4: Employee Management System  </h1>
<div class="container">
        <h2>Employee Management</h2>
        <form id="employeeForm">
            <input type="text" id="name" placeholder="Name" required>
            <input type="text" id="position" placeholder="Position" required>
            <button type="submit" class="add-btn">Add Employee</button>
        </form>
        <div id="employeeList"></div>
    </div>
    <script>
        const employeeList = document.getElementById('employeeList');
const employeeForm = document.getElementById('employeeForm');

// 1. Fetch and Display Employees
async function fetchEmployees() {
    try {
        const response = await fetch('employees.json');
        const data = await response.json();
        renderEmployees(data);
    } catch (error) {
        console.error('Error fetching employees:', error);
    }
}

function renderEmployees(employees) {
    employeeList.innerHTML = '';
    employees.forEach(emp => {
        const div = document.createElement('div');
        div.className = 'employee-item';
        div.innerHTML = `
            <span><strong>${emp.name}</strong> - ${emp.position}</span>
            <button onclick="deleteEmployee(${emp.id})">Delete</button>
        `;
        employeeList.appendChild(div);
    });
}

// 2. Add New Employee (UI Update)
employeeForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const newEmployee = {
        id: Date.now(), // Unique ID
        name: document.getElementById('name').value,
        position: document.getElementById('position').value
    };
    
    // In a real app, you would use fetch(url, { method: 'POST', ... }) here
    alert('Employee added to UI. (Server-side update requires a backend)');
    
    // Simulate dynamic update
    const currentList = Array.from(document.querySelectorAll('.employee-item span')).map(span => {
        const [name, position] = span.innerText.split(' - ');
        return { name, position };
    });
    renderEmployees([...currentList, newEmployee]);
    employeeForm.reset();
});

// 3. Delete Employee (UI Update)
function deleteEmployee(id) {
    // In a real app, you would use fetch(url, { method: 'DELETE' }) here
    const element = event.target.parentElement;
    element.remove();
}

// Initialize
fetchEmployees();

    </script>
    <h1>Mini Project 5: Crypto Tracker</h1>
   
    <div class="container">
        <h1>Crypto Live Dashboard</h1>
        <p id="status">Refreshing in: <span id="timer">60</span>s</p>
        <div id="crypto-container" class="grid">
            <!-- Cards will be injected here -->
            <p>Loading market data...</p>
        </div>
    </div>
    <script>
        const cryptoContainer = document.getElementById('crypto-container');
const timerDisplay = document.getElementById('timer');
let timeLeft = 60;

// 1. Fetch data from CoinGecko API
async function fetchCryptoData() {
    try {
        const response = await fetch('https://api.coingecko.com');
        const data = await response.json();
        displayData(data);
        timeLeft = 60; // Reset timer after successful fetch
    } catch (error) {
        cryptoContainer.innerHTML = `<p style="color:red">Error fetching data. Please try again later.</p>`;
    }
}

// 2. Display Name, Symbol, Price, and 24h Change
function displayData(data) {
    cryptoContainer.innerHTML = ''; // Clear previous data
    
    data.forEach(coin => {
        const isPositive = coin.price_change_percentage_24h > 0;
        const card = document.createElement('div');
        card.className = 'card';
        
        card.innerHTML = `
            <h3>${coin.name} <span class="symbol">(${coin.symbol})</span></h3>
            <div class="price">$${coin.current_price.toLocaleString()}</div>
            <div class="${isPositive ? 'up' : 'down'}">
                ${isPositive ? '▲' : '▼'} ${coin.price_change_percentage_24h.toFixed(2)}%
            </div>
        `;
        cryptoContainer.appendChild(card);
    });
}

// 3. Auto-refresh Logic
function startTimer() {
    setInterval(() => {
        timeLeft--;
        timerDisplay.innerText = timeLeft;
        
        if (timeLeft <= 0) {
            fetchCryptoData();
        }
    }, 1000);
}

// Initial Call
fetchCryptoData();
startTimer();


    </script>
<h1>Mini Project 6: Country Explorer </h1>
<div class="container1">
        <h1>Country Explorer</h1>
        
        <div class="controls">
            <input type="text" id="searchBar" placeholder="Search country name...">
            <select id="countryDropdown">
                <option value="" disabled selected>Select a country</option>
            </select>
        </div>

        <div id="countryInfo" class="info-card hidden">
            <img id="flag" src="" alt="Country Flag">
            <h2 id="countryName"></h2>
            <p><strong>Capital:</strong> <span id="capital"></span></p>
            <p><strong>Region:</strong> <span id="region"></span></p>
            <p><strong>Population:</strong> <span id="population"></span></p>
        </div>
    </div>
    <script>
        const searchBar = document.getElementById('searchBar');
const dropdown = document.getElementById('countryDropdown');
const infoCard = document.getElementById('countryInfo');

let countries = []; // Store fetched data locally

// 1. Fetch country data
async function fetchCountries() {
    try {
        const response = await fetch('https://restcountries.com/v3.1/all');
        countries = await response.json();
        
        // Sort countries alphabetically by name
        countries.sort((a, b) => a.name.common.localeCompare(b.name.common));
        
        populateDropdown(countries);
    } catch (error) {
        console.error("Error fetching data:", error);
    }
}

// 2. Populate Dropdown
function populateDropdown(list) {
    dropdown.innerHTML = '<option value="" disabled selected>Select a country</option>';
    list.forEach(country => {
        const option = document.createElement('option');
        option.value = country.cca3; // Use ISO code as unique ID
        option.textContent = country.name.common;
        dropdown.appendChild(option);
    });
}

// 3. Display Data on Selection
dropdown.addEventListener('change', (e) => {
    const selectedCountry = countries.find(c => c.cca3 === e.target.value);
    
    if (selectedCountry) {
        document.getElementById('flag').src = selectedCountry.flags.svg;
        document.getElementById('countryName').textContent = selectedCountry.name.common;
        document.getElementById('capital').textContent = selectedCountry.capital ? selectedCountry.capital[0] : 'N/A';
        document.getElementById('region').textContent = selectedCountry.region;
        document.getElementById('population').textContent = selectedCountry.population.toLocaleString();
        
        infoCard.classList.remove('hidden');
    }
});

// 4. Search Filter Logic
searchBar.addEventListener('input', (e) => {
    const searchTerm = e.target.value.toLowerCase();
    const filtered = countries.filter(c => 
        c.name.common.toLowerCase().includes(searchTerm)
    );
    populateDropdown(filtered);
});

// Initialize
fetchCountries();

    </script>
    
</body>
</html>